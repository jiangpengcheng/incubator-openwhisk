[db_creds]
db_username={{ lookup('env', 'OW_DB_USERNAME')|default('whisk_admin', true) }}
db_password={{ lookup('env', 'OW_DB_PASSWORD')|default('some_passw0rd', true) }}
{% if db.backend == 'CouchDB' %}
db_provider={{ lookup('env', 'OW_DB')|default('CouchDB', true) }}
db_protocol={{ lookup('env', 'OW_DB_PROTOCOL')|default('http', true) }}
db_host={{ lookup('env', 'OW_DB_HOST')|default(groups['db']|first, true) }}
db_port={{ lookup('env', 'OW_DB_PORT')|default('5984', true) }}
{% elif db.backend == 'MongoDB' %}
db_replicaSet={{ lookup('env', 'OW_DB_REPLICASET')|default('whisk_replica_set', true)}}
db_database={{ lookup('env', 'OW_DB_DATABASE')|default('whisks', true)}}
{% endif %}
